# 实验方案与理论对比

本节给出与 `principle.md` 中动力学模型相对应的实验设计与对比思路，目标是用可操作的实验手段，验证：

- **理想刚体 + 二次空气阻力模型** 是否能定量/定性重现实际旋转行为；
- **中间轴不稳定翻转** 等现象在有空气、有重力环境下的表现；
- 实验测得的参数（惯量、阻尼系数）与理论推导的尺度关系是否一致。

---

## 0. 实验条件与理论假设

- **物体模型**
  - 选用近似均匀的长方体刚体，与 `principle.md` 中附录 A 的推导假设一致。
  - 已知几何尺寸 \(L, W, H\) 与质量 \(m\)，据此计算主惯量 \(I_x, I_y, I_z\)。
- **外力矩结构**
  - 只分析物体在空中**完全脱手**到**接触地面前**的时间段，在此时间段内：
    - 重力 \(m\vec{g}\) 作用在质心上，对质心的转动**不产生额外净力矩**；
    - 主要外力矩为空气阻力力矩 \(\vec{\tau}_{air}\)。
  - 该假设与理论模型中“理想刚体 + 外部二次空气阻力”的框架一致。
- **测量手段**
  - 使用多台高速相机，跟踪物体表面的标记点，重建：
    - 姿态矩阵 \(\mathcal{R}(t)\)（Body→Lab 的旋转）；
    - Body 系中的角速度 \(\vec{\omega}_{body}(t)\)。

---

## 1. 先测空气阻尼系数 \(c_i\)

### 1.1 实验目的

- **[目标]** 在近似单轴旋转条件下测量 \(\omega_i(t)\) 的衰减曲线，拟合得到有效阻尼系数 \(c_i^{\text{exp}}\)。这一节相当于为后续所有数值模拟和对比“先标定参数”，将理论中的 \(c_i\) 用实验量 \(c_i^{\text{exp}}\) 具体化。
- **[对应理论]** 与 `principle.md` 中的阻尼模型
  $$\tau_i = -c_i \, \omega_i |\omega_i|$$
  以及附录 A.3 给出的解析形式进行对比，检验：
  - 阻尼力矩是否近似与 \(\omega_i^2\) 成正比；
  - \(c_i\) 与几何尺寸组合（如 \(L^4 + W^4\)）之间的尺度律是否成立。

### 1.2 装置与操作

- **[装置]**
  - 利用现成的旋转轴承或可绕单一固定轴转动的支架，使刚体绕某一主轴近似无摩擦旋转。
  - 物体几何尺寸与质量已知，用于计算 \(I_i\) 和理论阻尼系数 \(c_i\)。
- **[操作步骤]**
  - **(1)** 将物体刚性固定在轴上，使旋转轴尽量与某一主惯量轴（如 \(x\)、\(y\)、\(z\)）重合。
  - **(2)** 给予一个初始角速度（例如手动扭转后瞬间释放）。
  - **(3)** 使用高速相机记录整个减速过程，跟踪物体上的标记点，重建该轴向的 \(\omega_i(t)\)。
  - **(4)** 在不同初始转速下重复多次实验，获得具有统计意义的 \(\omega_i(t)\) 数据族。

### 1.3 数据处理与理论联系

- **[惯量计算]**
  - 采用均匀长方体近似，使用 `principle.md` 中给出的公式计算 \(I_x, I_y, I_z\)。
- **[阻尼拟合]**
  - 在近似单轴条件下，欧拉方程简化为
    $$\frac{d\omega_i}{dt} = -\frac{c_i}{I_i} \, \omega_i |\omega_i|$$
  - 实际实验中，总阻力力矩还包含轴承/支撑摩擦等附加项，因此从单轴旋转实验中得到的 \(c_i\) 更严格地说是一个**等效阻尼系数**，其中已经包含了空气阻力与轴承摩擦的综合效应。
  - 数值上，将实验测得的 \(\omega_i(t)\) 与上述微分方程的数值解进行拟合，得到有效阻尼系数 \(c_i^{\text{exp}}\)。
- **[与解析公式对比]**
  - 计算附录 A.3 中给出的理论值 \(c_i^{\text{theory}}\)，比较其与 \(c_i^{\text{exp}}\) 的数量级是否一致；
  - 在改变物体几何尺寸（或选取不同现成长方体）时，检查 \(c_i^{\text{exp}}\) 是否随 \(L, W, H\) 的变化满足解析公式所预测的尺度律。

---

## 2. 再实验：排除下落过程中除空气阻力外的额外转动力矩

在获得轴承条件下的等效阻尼系数之后，本节通过比较自由下落与轴承旋转，检验在 `principle.md` 第 7 节中给出的阶数估计是否成立，即在我们的参数范围内，自由下落阶段除空气阻力外不存在足以改变整体演化的显著附加转动力矩。

### 2.1 实验目的

- **[目标]** 通过比较自由下落与轴承旋转条件下的角速度演化，验证：
  - 自由下落阶段重力不对刚体转动产生额外净力矩；
  - 下落过程中转动衰减主要来源于空气阻力，与单轴旋转情况一致。

### 2.2 实验方案：自由下落与轴承旋转的对比

- **[自由下落实验]**
  - **(1)** 将同一刚体从手中抛出，使其在空中自由飞行并自转；
  - **(2)** 使用多台高速相机，从不同角度记录刚体从脱手到接触地面前的一段时间；
  - **(3)** 重建物体姿态矩阵 \(\mathcal{R}(t)\) 与 Body 系角速度 \(\vec{\omega}_{body}(t)\)。
- **[轴承旋转对比]**
  - 在与自由下落实验尽可能接近的初始角速度幅值下，重复第 1 节的轴承单轴旋转实验；
  - 获得对应的 \(\omega_i^{\text{bearing}}(t)\) 用于对比。
- **[对比指标]**
  - 比较两种条件下 \(\omega_i(t)\) 的衰减速率和函数形式：
    - 是否都表现出二次阻尼特征（高转速段衰减更快、低转速段逐渐变慢）；
    - 是否存在自由下落特有的额外转动变化，超出空气阻力模型的预测。

需要注意的是，在自由下落过程中，刚体具有非零的质心平动速度 \(\vec{V}_{cm}\)。若物体在气动意义上不完全对称（例如“中心压力”不在质心处），则平动气动力的合力不一定严格通过质心，可能产生额外的转动力矩。本文在实验设计中先假设在所选几何和下落速度范围内，这一附加气动力矩相对于由自转产生的阻力矩可以忽略；若后续实验发现自由下落阶段的衰减行为明显快于单轴旋转预测，则需要进一步考虑平动气动力对转动的贡献。

### 2.3 预期结论

- 若重力仅通过质心作用而不产生绕质心净力矩，则：
  - 自由下落时的转动只依赖于初始条件与空气阻力，与是否“下落”无关；
  - 在考虑轴承自身摩擦修正后，轴承旋转与自由下落在相同初始条件下的 \(\omega_i(t)\) 应具有相同的衰减规律。
- 该对比为在有重力环境下使用仅含空气阻力力矩的理论模型提供实验支持。

---

## 3. 实验与理论对比

在前两节完成参数标定并验证“仅含空气阻力力矩”的假设之后，本节在完全不再额外调参的前提下，将获得的 \(I_i\)、\(c_i\) 以及实验测得的 \(\vec{\omega}_{body}(t)\)、\(\mathcal{R}(t)\) 与 `principle.md` 中的完整动力学方程组进行系统对比，检验模型的前向预测能力。

### 3.1 初始条件与参数一致性

- **[初始条件对齐]**
  - 从实验数据中提取 \(t=0\) 时刻的 \(\vec{\omega}_{body}(0)\) 与 \(\mathcal{R}(0)\)；
  - 将其作为数值积分的初始条件，确保实验与理论从同一状态出发。
  - 在进行统计对比时，可以通过姿态重建结果筛选出初始条件落在某一小邻域内的实验样本，以减小初始条件分布带来的散布。
- **[参数来源]**
  - 惯性张量 \(\mathbb{I}_{body}\) 与阻尼系数 \(c_i\) 取自第 1 节的测量与拟合结果；
  - 数值模拟过程中不再额外“调参”，避免人为贴合曲线。

### 3.2 时间序列：\(\vec{\omega}_{body}(t)\) 三个分量

- **[对比内容]**
  - 三个分量的时间演化形状；
  - 是否出现中间轴不稳定翻转（某个分量符号翻转、能量在分量间交换）；
  - 衰减趋势是否同阶量级，是否表现出二次阻尼特征（高转速段衰减更快、低转速段逐渐变慢）。

### 3.3 几何/拓扑特征：姿态和翻转模式

- **[对比内容]**
  - 实验和模拟中，主惯量轴相对于角动量矢量的运动“轨迹形状”（例如在 Body/Lab 系中的锥形运动）；
  - 一次完整翻转的时间、翻转间隔及其统计分布；
  - 翻转过程中物体表面标记点的运动路径与数值可视化结果的一致性。
  - 实验轨迹相对于理想模型轨迹开始出现系统性偏离的时间（或时间尺度），作为进动弛豫、内部耗散和更复杂气动力效应开始显著影响运动的观测指标。

### 3.4 守恒量与耗散量：能量与角动量

- **[计算方式]**
  - 利用实验的 \(\vec{\omega}_{body}(t)\)、\(\mathcal{R}(t)\) 计算：
    - 旋转能量：
      $$E_{\text{rot}}(t) = \tfrac12 \, \vec{\omega}_{body}^T \, \mathbb{I}_{body} \, \vec{\omega}_{body}(t)$$
    - 角动量（Lab 系）：
      $$\vec{L}_{lab}(t) = \mathcal{R}(t) \, \mathbb{I}_{body} \, \vec{\omega}_{body}(t)$$
- **[对比内容]**
  - \(|\vec{L}_{lab}(t)|\) 是否随时间单调减小且方向变化符合阻力力矩方向；
  - 能量衰减是否与 \(\vec{\tau}_{air} \cdot \vec{\omega} < 0\) 的耗散功率符号一致；
  - 在关闭阻尼项（\(c_i = 0\)）的数值模拟中，\(|\vec{L}_{lab}|\) 是否基本守恒，用作数值求解与坐标转换正确性的基准。

### 3.5 误差与不确定性分析

- **[随机误差]**
  - 通过多次重复实验，估计各物理量的统计误差（标准差）；
  - 检查理论曲线是否落在实验误差带内。
- **[系统误差来源]**
  - 相机标定与姿态重建误差；
  - 物体形状与质量分布偏离理想长方体；
  - 内部耗散（材料形变、装订松动等）在模型中未显式包含。
- **[模型适用范围]**
  - 指出理论模型在当前实验中的适用时间/转速范围；
  - 讨论在何种条件下需要引入更复杂的内部耗散模型（例如进动弛豫）。

---

## 4. 不规则物体的等效形状参数与可预测性测试

在完成对长方体等简单几何的标定与验证之后，可以将同一套“理想刚体 + 主轴系对角二次阻尼”结构层模型推广到更一般的不规则物体。核心思路是：

- 不再追求解析的几何表达式 $c_i(L,W,H)$，而是直接把一组等效阻尼系数 $(c_x,c_y,c_z)$ 视为该物体在给定介质中的**形状参数**；
- 先在相对简单的工况下用实验标定出这一组参数，再在更复杂的初始条件下保持参数不变进行前向预测，对比实验轨迹，检验模型的可预测性。

### 4.1 形状参数的定义与无量纲化

- **[基本定义]**
  - 对任意刚体 A，在主轴系下依然采用
    $$\tau_i = -c_i^{(A)}\,\omega_i|\omega_i|$$
    作为空气阻力力矩的工作模型。
  - 将 $c_i^{(A)}$ 本身定义为该物体在给定流体与雷诺数范围内的**等效形状参数**。
- **[可选的无量纲化]**
  - 若需要比较尺度相差较大的物体，可引入特征长度 $L_\ast$（如体积的三次根或最大边长），定义无量纲系数
    $$\tilde c_i^{(A)} = \frac{c_i^{(A)}}{\tfrac12\rho L_\ast^5},$$
    以弱化尺寸的直接影响，突出几何与雷诺数的作用。

### 4.2 标定阶段：由简单工况测量 $(c_x,c_y,c_z)$

- **[实验工况选择]**
  - 对不规则物体 A，优先选择接近单轴或少数轴主导的旋转工况，例如：
    - 刚体固定在轴上，尽量使旋转轴与某一主轴对齐，测量该轴的自转衰减；
    - 自由下落中选取“几乎绕某一主轴转动”的初始条件区间进行拟合。
- **[数据拟合]**
  - 对于选定轴 $i$，在近似单轴条件下采用
    $$\frac{d\omega_i}{dt} = -\frac{c_i^{(A)}}{I_i^{(A)}}\,\omega_i|\omega_i|$$
    的简化方程，与实验测得的 $\omega_i(t)$ 曲线进行拟合，得到 $c_i^{(A)}$；
  - 通过多组不同初始转速的实验重复拟合，检验同一物体在不同 $\omega$ 水平下得到的 $c_i^{(A)}$ 是否在可接受范围内一致，从而验证“$c_i$ 不随 $\omega$ 明显变化”的假设。

### 4.3 预测阶段：固定 $(c_x,c_y,c_z)$ 的前向模拟

- **[固定参数，改变初始条件]**
  - 在获得一组标定好的 $(c_x^{(A)},c_y^{(A)},c_z^{(A)})$ 后，在后续所有数值模拟中保持这些参数不变；
  - 设计多组初始条件：
    - 不同大小和方向的初始角速度 $\vec\omega(0)$；
    - 包含中间轴不稳定翻转的初始配置；
    - 既包括轴承条件，也包括自由下落条件。
- **[前向积分与数据对比]**
  - 使用 `principle.md` 中的完整动力学方程组，以实验中的 $\vec\omega_{body}(0)$ 与 $\mathcal R(0)$ 为初始条件，数值积分获得预测轨迹：
    - $\omega_i^{\rm sim}(t)$；
    - 姿态矩阵 $\mathcal R^{\rm sim}(t)$ 及对应可视化量（翻转周期、翻转幅度等）。
  - 与同一物体、同一初始条件下的实验结果逐一对比，重点检查：
    - 衰减速率与函数形状是否一致；
    - 中间轴翻转的出现与消失时刻是否匹配；
    - 翻转周期、幅度及其演化是否在误差范围内一致。

若在较宽的初始条件与转速范围内，均能在**不重新调整 $(c_x,c_y,c_z)$** 的前提下获得良好的拟合，则可以认为“结构层模型 + 形状参数 $c_i$”这一框架对该不规则物体具有真实的预测能力，而不仅仅是后验拟合。

### 4.4 额外检查与多物体对比

- **[对角阻尼近似的合理性]**
  - 对同一物体 A，可分别通过“近似绕 x 轴纯转”“近似绕 y 轴纯转”等实验独立拟合 $c_x^{(A)},c_y^{(A)}$，再在混合旋转工况下验证仅使用对角阻尼项是否足以解释大部分行为；
  - 若发现系统性偏差，可在后续工作中考虑引入交叉阻尼项，对当前模型进行扩展。
- **[不同形状间的经验尺度律]**
  - 对多种不规则物体 A、B、C 重复上述“标定 + 预测”流程，比较各自的 $(c_x,c_y,c_z)$ 或无量纲 $\tilde c_i$；
  - 分析 $c_i$ 与表面积、特征长度、厚度比例等几何量之间是否存在稳定的经验标度关系，可在讨论中作为对长方体解析结果的补充。

---

## 附录：多相机 + 标记点的姿态与角速度重建

- **目标**
  - 使用多台相机和物体表面的标记点，重建刚体在 Lab Frame 下的姿态矩阵 \(\mathcal{R}(t)\)，并进一步求出 Body Frame 下的角速度 \(\vec{\omega}_{body}(t)\)。
  - 与 `principle.md` 中附录 B 的坐标变换与姿态运动学方程保持完全一致。

### A.1 标记点设计与相机标定

- **[标记点设计]**
  - 在刚体表面布置至少 4–5 个不共面的标记点（颜色/形状易于识别）。
  - 在 Body Frame 中，为每个标记点定义固定坐标 \(\vec{p}_{k,body}\)，构成一个刚体“模板”。
- **[相机标定]**
  - 使用棋盘格或已知点阵，对每台相机进行内参（焦距、畸变）和外参（相机在 Lab Frame 中的位置与朝向）标定。
  - 得到用于三角测量的相机投影模型。

### A.2 从多视图 2D 点到 3D 标记点 \(\vec{p}_{k,lab}(t)\)

- 在每一帧 \(t_i\) 上：
  - 在各相机图像中手动或自动检测所有标记点的 2D 像素坐标；
  - 利用相机标定结果，将多视图 2D 坐标通过三角测量恢复为 Lab Frame 中的 3D 坐标 \(\vec{p}_{k,lab}(t_i)\)。

### A.3 刚体配准：求姿态矩阵 \(\mathcal{R}(t_i)\)

- 在每个时间步 \(t_i\)，求解刚体配准问题：
  - 寻找旋转矩阵 \(\mathcal{R}(t_i)\) 和平移向量 \(\vec{T}(t_i)\)，使
    $$\vec{p}_{k,lab}(t_i) \approx \mathcal{R}(t_i) \, \vec{p}_{k,body} + \vec{T}(t_i)$$
    在最小二乘意义下误差最小。
  - 可采用 Kabsch 算法或基于 SVD 的刚体配准方法实现。
- 得到的 \(\mathcal{R}(t_i)\) 即附录 B 中将 Body Frame 映射到 Lab Frame 的旋转矩阵。

### A.4 从 \(\mathcal{R}(t)\) 计算角速度 \(\vec{\omega}_{body}(t)\)

- 利用姿态运动学方程：
  $$\frac{d\mathcal{R}}{dt} = \mathcal{R} \, [\vec{\omega}_{body}]_{\times}$$
- 对离散时间序列 \(\mathcal{R}(t_i)\) 进行数值近似：
  - 计算相邻时间步之间的增量旋转：
    $$\Delta \mathcal{R}_i = \mathcal{R}^T(t_i) \, \mathcal{R}(t_{i+1})$$
  - 将 \(\Delta \mathcal{R}_i\) 视为一次小旋转，对其进行对数映射，或近似为：
    $$[\vec{\omega}_{body}(t_i)]_{\times} \approx \frac{\Delta \mathcal{R}_i - \mathbb{I}}{\Delta t}$$
  - 从反对称矩阵 \([\vec{\omega}_{body}(t_i)]_{\times}\) 的三个独立分量中读出角速度矢量 \(\vec{\omega}_{body}(t_i)\)。

在实际含噪数据中，直接两帧差分并除以 \(\Delta t\) 容易放大高频噪声。为了提高角速度估计的鲁棒性，可以对姿态时间序列（优选四元数形式）在时间上做适度平滑拟合（例如局部多项式/最小二乘拟合），再从平滑后的曲线计算 \(\vec{\omega}_{body}(t)\)，或在一个小时间窗内同时拟合出最佳常矢量 \(\vec{\omega}_{body}\) 而非简单使用两点差分。

### A.5 与理论方程组的对接

- 通过上述步骤得到的 \(\mathcal{R}(t_i)\)、\(\vec{\omega}_{body}(t_i)\) 即可直接代入：
  - `principle.md` 中欧拉方程的右侧（验证动力学项与空气阻力模型）；
  - 附录 B 中 Lab/Body 坐标变换关系（检验角动量守恒与耗散特性）。
- 这样，实验视频经过多相机重建与刚体配准处理后，能够在数学上与理论模型中的各个物理量一一对应.
